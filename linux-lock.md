---
title: 产生死锁的条件以及避免死锁的方法
date: 2016-07-19 20:49:37
categories: Linux
tags: Linux系统篇
---
一、产生死锁的原因
（1） 因为系统资源不足。
（2） 进程运行推进的顺序不合适。
（3） 资源分配不当等。
如果系统资源充足，进程的资源请求都能够得到满足，死锁出现的可能性就很低，否则就会因争夺有限的资源而陷入死锁。其次，进程运行推进顺序与速度不同，也可能产生死锁。
二、产生死锁的必要条件
（1）互斥条件(Mutual exclusion)：资源不能被共享，只能由一个进程使用。
（2）请求与保持条件(Hold and wait)：已经得到资源的进程可以再次申请新的资源。
（3）非剥夺条件(No pre-emption)：已经分配的资源不能从相应的进程中被强制地剥夺。
（4）循环等待条件(Circular wait)：系统中若干进程组成环路，该环路中每个进程都在等待相邻进程正占用的资源。
三、怎样避免死锁
(1).按同一顺序访问对象。(注：避免出现循环)
(2).避免事务中的用户交互。(注：减少持有资源的时间，较少锁竞争)
(3).保持事务简短并处于一个批处理中。(注：同(2)，减少持有资源的时间)
(4).使用较低的隔离级别。(注：使用较低的隔离级别（例如已提交读）比使用较高的隔离级别（例如可序列化）持有共享锁的时间更短，减少锁竞争)
(5).使用基于行版本控制的隔离级别。
(6).使用绑定连接。(注：绑定会话有利于在同一台服务器上的多个会话之间协调操作。)