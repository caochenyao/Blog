---
title: 粘滞位
date: 2016-06-20 09:29:47
categories: Linux
tags: Linux系统篇
---
一、什么是粘滞位
粘滞位(Stickybit)，或粘着位，是Unix文件系统权限的一个旗标。最常见的用法在目录上设置粘滞位，如此以来，只有目录内文件的所有者或者root才可以删除或移动该文件。如果不为目录设置粘滞位，任何具有该目录写和执行权限的用户都可以删除和移动其中的文件。实际应用中，粘滞位一般用于/tmp目录，以防止普通用户删除或移动其他用户的文件。
二、粘滞位的功能
文件的粘滞位(sticky)位是作什么用的？  
普通文件的sticky位会被linux内核忽略，  
目录的sticky位表示这个目录里的文件只能被owner和root删除  
粘着位(Sticky bit)  
如果用户对目录有写权限，则可以删除其中的文件和子目录，即使该用户不是这些文件的所有者，而且也没有读或写许可。
粘着位出现执行许可的位置上，用t表示，设置了该位后，其它用户就不可以删除不属于他的文件和目录。
但是该目录下的目录不继承该权限，要再设置才可使用。 
   
	# chmod 1770 xxx  
举一个linux下的常见目录来做例子，也就是 /tmp 目录来说一下粘连位的作用。  
![1](http://o6lb63nu0.bkt.clouddn.com/stickybit_1.png)  
注意orther位置的T，这便是粘连位。  
我们都知道，/tmp常被我们用来存放临时文件，是所有用户。但是我们不希望别的用户随随便便的就删除了自己的文件，于是便有了粘连位，它的作用便是让用户只能删除属于自己的文件。  
  
那么原来的执行标志x到哪里去了呢? 系统是这样规定的, 假如本来在该位上有x, 则这些特别标志 (suid, sgid, sticky) 显示为小写字母(s, s, t)。
 否则, 显示为大写字母(S, S, T)。     
3)粘着位(sticky)  
eg:  
  chmod 777 abc  
  chmod +t abc  
  等价于  
  chmod 1777 abc  
在以前旧的系统当中,如果一个程序文件一旦设置了粘着位，那么当该程序中止的时候他的所有指令段将被保存到系统的交换分区当中，再次运行时可以更快的调入系统；不过现在的操作系统已经不再使用这种功能了，但这并不表示这一功能已经完全被废弃。当一个目录设置为粘着位时，它将发挥特殊的作用，即当一个目录被设置为"粘着位"(用chmod a+t),则该目录下的文件只能由
1)、超级管理员删除  
2)、该目录的所有者删除  
3)、该文件的所有者删除